<!-- <div class="btn-group">
    <button type="button" [ngClass]="{'active':enableBtn === 'edit' }" (click)="showPreview= false; btnClick($event, 'edit'); initializeDropdown()" class="sb-btn sb-btn-normal sb-btn-outline-primary">Edit</button>
    <button type="button" [ngClass]="{'active': enableBtn === 'preview' }" (click)="showPreview= true; btnClick($event, 'preview'); generatePreview()" class="sb-btn sb-btn-normal sb-btn-outline-primary">Preview</button>
</div> -->
<app-question-creation-header *ngIf="questionMetaData"  (buttonType)="buttonTypeHandler($event)" [rejectComment]="rejectComment"
(questionStatus)="handleReviewrStatus($event)" [questionMetaData]="questionMetaData"
 (questionQueueStatus)="handleQuestionSelectionStatus($event)" [questionSelectionStatus]="questionSelectionStatus" [role]="role"></app-question-creation-header>


<form *ngIf="!showPreview" class="ui form mt-8" [formGroup]="questionMetaForm">
  <div class="field">
    <label>Question</label>
    <label *ngIf="showFormError && [undefined, ''].includes(question)"
        class="ui basic red error label pt-1">Fill Question</label>
    <!-- <app-ckeditor-tool [editorConfig]="editorConfig" (editorDataOutput)="editorDataHandler($event, 'question')"
      [editorDataInput]="question" [editorId]="'question_editor'"></app-ckeditor-tool> -->
  </div>
  <div class="field">
    <label>Answer</label>
    <label *ngIf="showFormError && [undefined, ''].includes(editorState.solutions)"
        class="ui basic red error label pt-1">Fill Answer</label>
    <!-- <app-ckeditor-tool [editorConfig]="editorConfig" (editorDataOutput)="editorDataHandler($event, 'solution')"
      [editorDataInput]="editorState.solutions" [editorId]="'answer_editor'"></app-ckeditor-tool> -->
  </div>
  <div class="ui two column grid width-100">
      <div class="one column row" *ngIf="learningOutcomeOptions.length > 0">
          <div class="column">
              <label>Learning Outcome</label>
              <div>
                  <sui-select class="selection width-100" formControlName="learningOutcome" name="'learningOutcome'">
                      <sui-select-option *ngFor="let option of learningOutcomeOptions" [value]="option.name"></sui-select-option>
                    </sui-select>
                    <label class="ui basic red error label pt-0"
                      *ngIf="questionMetaForm.controls.learningOutcome.dirty && questionMetaForm.controls['learningOutcome'].errors">Please Select
                      Learning Outcome</label>
              </div>
          </div>
      </div>
      <div class="column">
        <label>Learning Level</label>
        <div>
          <sui-select class="selection width-100" formControlName="bloomsLevel" name="'bloomsLevel'">
            <sui-select-option *ngFor="let option of bloomsLevelOptions" [value]="option"></sui-select-option>
          </sui-select>
          <label class="ui basic red error label pt-0"
            *ngIf="questionMetaForm.controls.bloomsLevel.dirty && questionMetaForm.controls['bloomsLevel'].errors">Please Select
            Learning Level </label>
          </div>
      </div>
      <div class="one column row">
      <div class="column">
          <label>Authors</label> <br/>
          <div class="ui small icon input">
              <input #author_names type="text" [value]="(questionMetaData && questionMetaData.mode === 'edit') ? questionMetaData.data.author : userName">
            </div>
        </div>
      </div>

  </div>
  <!-- <input type="button" (click)="createQuestion()"  value="Submit" class="ui button" /> -->
</form>

<sui-modal [isClosable]="true" [isInverted]="true" (dismissed)="dismissImagePicker()" *ngIf="showImagePicker"
  [size]="'normal'" class="sb-modal" [isFullScreen]="false" [mustScroll]="true" #modal>
  <div class="sb-modal-header">Select Image</div>
  <div class="sb-modal-content">
    <sui-tabset>
      <div class="ui tabular menu">
        <a class="item" (activate)="getMyImages(0)" suiTabHeader="1">My Images</a>
        <a class="item" (activate)="getAllImages(0)" suiTabHeader="2">All Image</a>
      </div>
      <div class="ui segment asset_container" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
        [scrollWindow]="false" (scrolled)="lazyloadMyImages()" suiTabContent="1">
        <div class="ui small middle aligned bordered images custom-image">
          <img *ngFor="let data of myAssets" (click)="addImageInEditor(data.downloadUrl)" [src]="data.downloadUrl">
        </div>
      </div>
      <div class="ui segment asset_container" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
        [scrollWindow]="false" (scrolled)="lazyloadAllImages()" suiTabContent="2">
        <div class="ui small middle aligned bordered images custom-image">
          <img *ngFor="let data of allImages" (click)="addImageInEditor(data.downloadUrl)" [src]="data.downloadUrl">
        </div>
      </div>
    </sui-tabset>
  </div>
  <div class="sb-modal-actions">
    <div class="ui left floated buttons">
      <button (click)="initiateImageUploadModal();" class="ui primary button">Upload and use</button>
    </div>
    <div class="ui buttons">
      <button (click)="dismissImagePicker();" class="ui button">Cancel</button>
      <!-- <div class="or"></div>
      <button (click)="dismissImagePicker();" class="ui primary button">Save</button> -->
    </div>
  </div>
</sui-modal>

<sui-modal [isClosable]="true" [isInverted]="true" (dismissed)="dismissImageUploadModal()" *ngIf="showImageUploadModal"
  [size]="'normal'" [isFullScreen]="false" [mustScroll]="true" class="sb-modal" #modal3>
  <div class="sb-modal-header">Upload and Use</div>
  <div class="sb-modal-content">
    <div class="ui grid">
      <div class="one wide column"></div>
      <div class="ten wide column">
        <div>
          <input (change)="uploadImage($event)" type="file" accept="image/jpeg, image/jpg, image/png" name="assetfile">
        </div>
        <div class="ui info message">
          <p>Allowed file types are: jpeg, jpg, png</p>
          <p>Maximum allowed file size: 1 MB</p>
        </div>
        <div *ngIf="showErrorMsg" class="ui error message">
          <p>{{errorMsg}}</p>
        </div>
      </div>
      <div class="one wide column"></div>
    </div>
  </div>
  <div class="sb-modal-actions">
    <div class="ui left floated buttons">
      <button (click)="dismissImageUploadModal();" class="ui primary button">Back</button>
    </div>
    <div class="ui buttons">
      <button (click)="dismissImageUploadModal();" class="ui button">Cancel</button>
      <!-- <div class="or"></div>
      <button (click)="dismissImageUploadModal();" class="ui primary button">Upload and use</button> -->
    </div>
  </div>
</sui-modal>


<app-question-preview *ngIf="showPreview" [questionMetaData]="previewData" [selectedAttributes]="selectedAttributes"> </app-question-preview>
